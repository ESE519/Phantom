https://mbed.org/users/wbasser/code/Queue/#a03810d46457
